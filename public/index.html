<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MultiBoard</title>

    <!-- Pico.css (Classless version) -->
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.classless.min.css"
    />
    <link rel="stylesheet" href="css/styles.css" />

    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
</head>

<script>
    const socket = io("http://localhost:3000");

    socket.on("publicBoards", (boards) => {
        const boardsList = document.getElementById("publicBoards");
        boardsList.innerHTML = "";

        boards.forEach((board) => {
            const boardItem = document.createElement("li");
            boardItem.innerHTML = `<a href="/board/${board}"><kbd>${board}</kbd></a>`;
            boardsList.appendChild(boardItem);
        });
    });

</script>

<body>
    <header class="zeroBottomPadding">
        <hgroup>
            <h1>MultiBoard</h1>
            <h2>Easy to use real-time multi-user online whiteboard</h2>
        </hgroup>
    </header>

	<main>
        <article class="zeroBottomMargin">
            <h2>Create a board</h2>
            <form action="/create" method="post">
                <label for="public">
                    <input type="checkbox" id="public" name="public" role="switch" />
                    Public?
                </label>
                <button>Create</button>
            </form>
        </article>

        <article class="zeroBottomMargin">
            <h2>Join a private board</h2>
            <form action="/join" method="post">
                <label for="id">Board ID</label>
                <input type="text" placeholder="Board ID" name="id" id="id" autocomplete="off" />
                <button>Join</button>
            </form>
        </article>

        <article class="zeroBottomMargin">
            <h2>Join a public board</h2>
            <ul id="publicBoards"></ul>
        </article>
    </main>
</body>